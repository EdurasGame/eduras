<?xml version="1.0"?>
<!-- - Author: Lars Vogel -->
<project name="docbook-src" default="build-html">

	<description>
		This Ant docbook.xml file is used to transform DocBook XML to html
		output
	</description>

	<!-- - Configure basic properties that will be used in the file. -->
	<property name="doc.path" value="../doc" />
	<property name="input.dir" value="${doc.path}/input" />
	<property name="output.dir" value="${doc.path}/output" />
	<property name="docbook.xsl.dir" value="${doc.path}/docbook-xsl" />
	<property name="html.stylesheet" value="${docbook.xsl.dir}/html/docbook.xsl" />
	<property name="output.stylesheet" value="${doc.path}/lib/style.css" />
	<property name="image.dir" value="${doc.path}/images" />

	<!-- Making saxon available -->
	<path id="saxon.class.path">
		<pathelement location="${doc.path}/lib/saxon.jar" />
	</path>


	<!-- - target: usage -->
	<target name="usage" description="Prints the Ant build.xml usage">
		<echo message="Use -projecthelp to get a list of the available targets." />
	</target>

	<!-- - target: clean -->
	<target name="clean" description="Cleans up generated files.">
		<delete dir="${output.dir}" />
	</target>

	<!-- - target: depends -->
	<target name="depends">
		<mkdir dir="${output.dir}" />
	</target>

	<!-- - target: build-html - description: Iterates through a directory and 
		transforms - .xml files into .html files using the DocBook XSL. -->
	<target name="build-html" depends="depends"
		description="Generates HTML files from DocBook XML">
		<xslt style="${html.stylesheet}" extension=".html" basedir="${input.dir}"
			destdir="${output.dir}">
			<include name="**/*.xml" />
			<param name="html.stylesheet" expression="style.css" />
			<classpath refid="saxon.class.path" />
		</xslt>
		<!-- Copy the stylesheet to the same directory as the HTML files -->
		<copy todir="${output.dir}" file="${output.stylesheet}" />
		<!-- Copy images into image folder -->
		<copy todir="${output.dir}/images">
			<fileset dir="${image.dir}">
				<include name="*" />
			</fileset>
		</copy>
	</target>

</project> 