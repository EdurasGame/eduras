<?xml version="1.0"?>
<project name="unittests" default="test">

	<description>
		This Ant unittests.xml file is used to perform unittests
		of Eduras?.
	</description>

	<property name="junit.path" value="../lib/junit-4.11.jar" />
	<property name="tests.folder" value="unittests" />
	<property name="tests.output" value="../output/junit" />

	<property name="src" value="../src" />
	<property name="build" value="../bin" />

	<property name="jars" value="../dist" />

	<property name="lib" value="../lib" />
	<property name="docbook" value="../doc" />


	<path id="test.classpath">
		<pathelement location="${build}" />
		<pathelement location="${junit.path}" />
		<fileset dir="${lib}">
			<include name="**/*.jar" />
		</fileset>
	</path>

	<target name="clean" description="Cleans up generated files.">
		<delete includeemptydirs="true">
			<fileset dir="${tests.output}" includes="**/*" />
		</delete>
	</target>
	
	<target name="createdir" depends="clean" description="Cleans up generated files.">
		<mkdir dir="${tests.output}" />
	</target>

	<target name="test" depends="createdir">
		<junit fork="yes" haltonfailure="no" showoutput="true"
			printsummary="true">
			<formatter type="xml" usefile="true" />
			<classpath refid="test.classpath" />
			<batchtest fork="yes" todir="${tests.output}">
				<fileset dir="${src}">
					<include name="**/${tests.folder}/*.java" />
				</fileset>
			</batchtest>
		</junit>
	</target>

</project> 
